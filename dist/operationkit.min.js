!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("operationkit",[],t):"object"==typeof exports?exports.operationkit=t():e.operationkit=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=13)}([function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e[e.veryLow=0]="veryLow",e[e.low=1]="low",e[e.normal=2]="normal",e[e.high=3]="high",e[e.veryHigh=4]="veryHigh"}(r||(r={}))},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.START="start",e.READY="ready",e.DONE="done",e.CANCEL="cancel",e.ERROR="error"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var r=function(e){return e.map(function(e){return Object.assign(Object.create(e),e)})},i=function(e){for(var t in e)return!1;return!0}},function(e,t,n){"use strict";var r;n.d(t,"a",function(){return r}),function(e){e.DONE="done",e.PAUSED="paused",e.RESUMED="resumed"}(r||(r={}))},function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r,i=n(0),o=n(5),s=n(9),u=n(1),a=n(2),c=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),p=function(e){function t(t){void 0===t&&(t=null);var n=e.call(this)||this;return n._queuePriority=i.a.normal,t||(t=Object(s.v4)()),n.id=t,n.name=null,n.completionCallback=null,n.map={},n.isExecuting=!1,n.error=!0,n.promise=null,n.runPromise=null,n._dependencies=[],n._done=!1,n._isInQueue=!1,n._canStart=!1,n._cancelled=!1,n._resolve=null,n._reject=null,n}return c(t,e),Object.defineProperty(t.prototype,"isFinished",{get:function(){return this._done},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isCancelled",{get:function(){return this._cancelled},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isInQueue",{get:function(){return this._isInQueue},set:function(e){this._isInQueue=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queuePriority",{get:function(){return this._queuePriority},set:function(e){this.isExecuting||this.isCancelled||this.isFinished||e in i.a&&(this._queuePriority=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dependencies",{get:function(){return this.isExecuting||this.isCancelled||this.isFinished?Object(a.a)(this._dependencies):this._dependencies},set:function(e){this.isExecuting||this.isCancelled||this.isFinished||(this._dependencies=e)},enumerable:!0,configurable:!0}),t.prototype.cancel=function(){this._cancelled=!0,Promise.resolve(this.promise),this.emit(u.a.CANCEL,this),this._resolve&&this._resolve()},t.prototype.done=function(){this._done=!0,this.completionCallback&&this.completionCallback(this),this.emit(u.a.DONE,this),this._resolve&&this._resolve(this.result)},t.prototype.isDone=function(){return this._done},t.prototype.addDependency=function(e){this._dependencies.push(e)},t.prototype.removeDependency=function(e){this._dependencies=this._dependencies.filter(function(t){return t.id!==e.id})},t.prototype.start=function(){var e=this;return this.isExecuting||this.isCancelled||this.isFinished?this.promise:(this.promise&&!this._canStart?this._preProcessStart():this.promise&&this._canStart?this._isInQueue?this.emit(u.a.READY,this):this.main():this.promise=new Promise(function(t,n){e._resolve=t,e._reject=n,e._preProcessStart()}),this.promise)},t.prototype.main=function(){var e=this;this.isExecuting=!0,this.emit(u.a.START,this),this.runPromise=this.run().then(function(t){e.result=t,e.done()}).catch(function(t){e.isExecuting=!1,e.error=!0,e.emit(u.a.ERROR,{err:t,operation:e}),e.emit(u.a.DONE,e),e._reject&&e._reject()})},t.prototype._preProcessStart=function(){this._createMap(),this._canStart&&(this._isInQueue?this.emit(u.a.READY,this):this.main())},t.prototype._createMap=function(){var e=this;this._dependencies.length?this._dependencies.forEach(function(t){e.map[t.id]=!0,t.on(u.a.DONE,e._onDependantOperationDone.bind(e)),t.start()}):this._canStart=!0},t.prototype._onDependantOperationDone=function(e){delete this.map[e.id],this._tryStart()},t.prototype._tryStart=function(){this.isExecuting||this.isCancelled||this.isFinished||Object(a.b)(this.map)&&(this._canStart=!0,this.isInQueue?this.emit(u.a.READY,this):this.start())},t}(o.EventEmitter)},function(e,t,n){"use strict";var r,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var a=10;function c(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var i,o,s,u;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,u=a,console&&console.warn&&console.warn(u)}return e}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,e))}.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):d(i,i.length)}function l(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return c(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var u=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw u.context=s,u}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)o(a,this,t);else{var c=a.length,p=d(a,c);for(n=0;n<c;++n)o(p[n],this,t)}return!0},u.prototype.addListener=function(e,t){return p(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return p(this,e,t,!0)},u.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,o,s;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return f(this,e,!0)},u.prototype.rawListeners=function(e){return f(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):l.call(e,t)},u.prototype.listenerCount=l,u.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r,i=n(5),o=n(10),s=n(1),u=n(0),a=n(3),c=n(2),p=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),h=function(e){function t(){var t=e.call(this)||this;return t.map={},t.operations=[],t._processedOperations=[],t.resolve=null,t.completionCallback=null,t.maximumConcurrentOperations=10,t.readyQueueMap={},t.readyQueue=[],t.runningQueueMap={},t.runningQueue=[],t.queues={},t.queues[u.a.high]=[],t.queues[u.a.normal]=[],t.queues[u.a.low]=[],t.queues[u.a.veryLow]=[],t.queues[u.a.veryHigh]=[],t}return p(t,e),Object.defineProperty(t.prototype,"isExecuting",{get:function(){return!Object(c.b)(this.map)},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.completionCallback&&this.completionCallback(),this.resolve()},t.prototype.addOperation=function(e){return this.addOperations([e])},t.prototype.addOperations=function(e){return this.operations=this.operations.concat(e),this._preProcessOperations(e),this._processedOperations=this._processedOperations.concat(this.operations),this._begin(),this.promise},t.prototype.pause=function(){this._paused||(this._paused=!0,this.emit(a.a.PAUSED,this))},t.prototype.resume=function(){this._paused&&(this._paused=!1,this.emit(a.a.RESUMED,this),this._checkNextOperation())},Object.defineProperty(t.prototype,"isPaused",{get:function(){return this._paused},enumerable:!0,configurable:!0}),t.prototype._preProcessOperations=function(e){var t=this;try{new o.CircularOperationValidator(e)}catch(e){throw e}e.forEach(function(e){t.map[e.id]||(t.map[e.id]=!0,e.isInQueue=!0,t._bindOperation(e)),t._preProcessOperations(e.dependencies)})},t.prototype._bindOperation=function(e){e.on(s.a.START,this._onOperationStart.bind(this)),e.on(s.a.READY,this._onOperationReady.bind(this)),e.on(s.a.CANCEL,this._onOperationCancel.bind(this)),e.on(s.a.DONE,this._onOperationDone.bind(this))},t.prototype._unbindOperation=function(e){e.off(s.a.START,this._onOperationStart.bind(this)),e.off(s.a.READY,this._onOperationReady.bind(this)),e.off(s.a.CANCEL,this._onOperationCancel.bind(this)),e.off(s.a.DONE,this._onOperationDone.bind(this))},t.prototype._begin=function(){var e=this;this.promise?this._startOperations():this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n,e._startOperations()})},t.prototype._startOperations=function(){var e=this;this._processedOperations.forEach(function(t){e._startOperation(t)})},t.prototype._startOperation=function(e){e.start()},t.prototype._onOperationStart=function(e){},t.prototype._onOperationReady=function(e){this.readyQueueMap[e.id]=!0,this.queues[e.queuePriority].push(e),this._checkNextOperation()},t.prototype._onOperationDone=function(e){this._unbindOperation(e),this.runningQueue=this.runningQueue.filter(function(t){return t.id!==e.id}),delete this.map[e.id],delete this.runningQueueMap[e.id],Object(c.b)(this.map)?(this.emit(a.a.DONE,this),this.done()):this._checkNextOperation()},t.prototype._checkNextOperation=function(){if(!this._paused&&this.runningQueue.length<this.maximumConcurrentOperations&&this.hasOperations()){var e=this.getNextOperation();(!e||e.isExecuting)&&e.isCancelled&&this.runningQueueMap[e.id]||(this.runningQueueMap[e.id]=!0,this.runningQueue.push(e),e.main(),this._checkNextOperation())}},t.prototype.hasOperations=function(){return!!(this.queues[u.a.veryHigh].length+this.queues[u.a.high].length+this.queues[u.a.normal].length+this.queues[u.a.low].length+this.queues[u.a.veryLow].length)},t.prototype.getNextOperation=function(){var e=null;return this.queues[u.a.veryHigh].length?e=this.queues[u.a.veryHigh].pop():this.queues[u.a.high].length?e=this.queues[u.a.high].pop():this.queues[u.a.normal].length?e=this.queues[u.a.normal].pop():this.queues[u.a.low].length?e=this.queues[u.a.low].pop():this.queues[u.a.veryLow].length?e=this.queues[u.a.veryLow].pop():e},t.prototype._onOperationCancel=function(e){delete this.map[e.id],delete this.queues[e.queuePriority],this.operations=this.operations.filter(function(t){return t.id!==e.id}),Object(c.b)(this.map)&&(this.emit(a.a.DONE,this),this.done())},t}(i.EventEmitter)},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){var r=n(15),i=n(16),o=i;o.v1=r,o.v4=i,e.exports=o},function(e,t){class n extends Error{constructor(e){super(),this.message=e}}e.exports={CircularOperationValidator:class{constructor(e){this.operations=e,this._checkCircular()}_checkCircular(){this.operations.forEach(e=>{e.dependencies.forEach(t=>{let n={};n[e.id]=Object.keys(n).length,this._verifyOpMap(t,n),this._checkDependencies(t,n)})})}_checkDependencies(e,t){e.dependencies.forEach(e=>{let n=JSON.parse(JSON.stringify(t));this._verifyOpMap(e,n),this._checkDependencies(e,n)})}_verifyOpMap(e,t){void 0!==t[e.id]&&this._throwError(e,t),t[e.id]=Object.keys(t).length}_throwError(e,t){Object.keys(t);let r={};for(let e in t)r[t[e]]=e;throw(r=Object.values(r)).push(e.id),new n(`Circular: ${r}`)}}}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r,i=n(4),o=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,u)}a((r=r.apply(e,t||[])).next())})},u=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},a=function(e){function t(){var t,n,r=this,i=arguments[0];if("number"==typeof i){t=i;var o=arguments[1];"function"==typeof o&&(n=o)}else{if("function"!=typeof i)throw new Error("Wrong arguments passed: missing ID and/or function");n=i}return(r=e.call(this,t)||this).blocks=[n],r}return o(t,e),t.prototype.run=function(){return s(this,void 0,void 0,function(){var e,t,n=this;return u(this,function(r){switch(r.label){case 0:return e=[],this.blocks.forEach(function(t){e.push(t(n))}),[4,Promise.all(e)];case 1:return[2,1===(t=r.sent()).length?t[0]:t]}})})},t.prototype.addBlock=function(e){this.blocks.push(e)},t}(i.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r,i=n(4),o=n(6),s=(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),u=function(e,t,n,r){return new(n||(n=Promise))(function(i,o){function s(e){try{a(r.next(e))}catch(e){o(e)}}function u(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,u)}a((r=r.apply(e,t||[])).next())})},a=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},c=function(e){function t(){var t=e.call(this)||this;return t.queue=new o.a,t.operations=[],t}return s(t,e),t.prototype.run=function(){return u(this,void 0,void 0,function(){var e;return a(this,function(t){switch(t.label){case 0:return[4,this.queue.addOperations(this.operations)];case 1:return t.sent(),e=[],[2,this.operations.reduce(function(e,t){return e.push(t.result),e},e)]}})})},t.prototype.start=function(){return u(this,void 0,void 0,function(){return a(this,function(t){return this.dependencies=[],[2,e.prototype.start.call(this)]})})},t.prototype.addOperation=function(e){this.operations.push(e),this.dependencies=[]},t.prototype.addOperations=function(e){this.operations=this.operations.concat(e),this.dependencies=[]},t}(i.a)},function(e,t,n){"use strict";n.r(t),function(e){var t=n(4),r=n(6),i=n(11),o=n(12),s=n(1),u=n(3),a=n(0);e.exports={Operation:t.a,OperationQueue:r.a,BlockOperation:i.a,GroupOperation:o.a,OperationEvent:s.a,QueueEvent:u.a,QueuePriority:a.a}}.call(this,n(14)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){var r,i,o=n(7),s=n(8),u=0,a=0;e.exports=function(e,t,n){var c=t&&n||0,p=t||[],h=(e=e||{}).node||r,f=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==f){var l=o();null==h&&(h=r=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==f&&(f=i=16383&(l[6]<<8|l[7]))}var d=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:a+1,v=d-u+(y-a)/1e4;if(v<0&&void 0===e.clockseq&&(f=f+1&16383),(v<0||d>u)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=d,a=y,i=f;var _=(1e4*(268435455&(d+=122192928e5))+y)%4294967296;p[c++]=_>>>24&255,p[c++]=_>>>16&255,p[c++]=_>>>8&255,p[c++]=255&_;var m=d/4294967296*1e4&268435455;p[c++]=m>>>8&255,p[c++]=255&m,p[c++]=m>>>24&15|16,p[c++]=m>>>16&255,p[c++]=f>>>8|128,p[c++]=255&f;for(var b=0;b<6;++b)p[c+b]=h[b];return t||s(p)}},function(e,t,n){var r=n(7),i=n(8);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var u=0;u<16;++u)t[o+u]=s[u];return t||i(s)}}])});
//# sourceMappingURL=operationkit.min.js.map